Ecore documentation context builder resolves logical names of Ecore model elements to links to ecore model documentation generated by [generate documentation ecore](${base-uri}reference/cli/nsd/vinci/generate/documentation/ecore.html) command.
In model-driven development based on EMF Ecore it simplifies writing technical documentation and referencing of model documentation from generated content.

In other words, it allows to write documentation in terms of model elements, i.e. the model documentation can be though as "dictionary" of a "[ubiquitous language](https://martinfowler.com/bliki/UbiquitousLanguage.html)" defined as EMF Ecore models.  

### Examples

Ecoredoc tests:

* EPackage: 
    * ``${{{ecore-doc/ncore}}}`` resolves to ${ecore-doc/ncore}
    * ``${{{ecore-doc/ncore Ncore}}}`` resolves to ${ecore-doc/ncore Ncore}
    * ``${{{ecore-doc/non-existent-package|Non existent package with default token value}}}`` resolves to ${ecore-doc/non-existent-package|Non existent package with default token value}
* EClass: 
    * ${ecore-doc/app/ActionBase}, 
    * ${ecore-doc/app/ActionBase Action Base}, 
* Attribute: 
    * ${ecore-doc/app/ActionBase.activator}
    * ${ecore-doc/app/ActionBase.activator Action Base activator}
* Reference: 
    * ${ecore-doc/app/ActionBase:content}
    * ${ecore-doc/app/ActionBase:content Action Base content}
* Operation: 
    * ${ecore-doc/app/BootstrapContainerApplicationBuilder#EOperation-createApplicationBuilderSupplier-978b17ea4dfe41ec4562d0ce7f4eaa16b83bc0a4e3250ba83665d93d4b799507}
    * ${ecore-doc/app/BootstrapContainerApplicationBuilder#EOperation-createApplicationBuilderSupplier-978b17ea4dfe41ec4562d0ce7f4eaa16b83bc0a4e3250ba83665d93d4b799507 createApplicationBuilderSupplier()}


* Package:
    * ``${{{javadoc/org.nasdankia.common}}}`` is resolved to ${javadoc/org.nasdanika.common}.
    * ``${{{javadoc/org.nasdankia.common Nasdanika common classes}}}`` is resolved to ${javadoc/org.nasdanika.common Nasanika common classes}.
* Class:
    * ``${{{javadoc/org.nasdankia.common.Context}}}`` is resolved to ${javadoc/org.nasdanika.common.Context}.
    * ``${{{javadoc/org.nasdankia.common.Context Context}}}`` is resolved to ${javadoc/org.nasdanika.common.Context Context}.
    * ``${{{javadoc/org.nasdankia.no-such-package.MyClass}}}`` is not resolved and is replaced with ${javadoc/org.nasdanika.no-such-package.MyClass}. The Javadoc context builder has no knowledge about classes, only about packages. I.e. ``${{{javadoc/org.nasdankia.common.NoSuchClass}}}`` would be resolved to a broken link because the context builder knows that ``org.nasdanika.common`` package exists, but it doesn't know that ``NoSuchClass`` does not exist in the package. 
    * ``${{{javadoc/java.util.Map$Entry}}}`` is resolved to ${javadoc/java.util.Map$Entry}.    
* Field: ``${{{javadoc/org.nasdanika.common.Context#BASE_URI_PROPERTY}}}`` is resolved to ${javadoc/org.nasdanika.common.Context#BASE_URI_PROPERTY}
* Methods: 
    * ``${{{javadoc/org.nasdanika.common.Context#fork()}}}`` is resolved to ${javadoc/org.nasdanika.common.Context#fork()}
    * ``${{{javadoc/org.nasdanika.common.Context#get(java.lang.Class)}}}`` is resolved to ${javadoc/org.nasdanika.common.Context#get(java.lang.Class)}
 
Javadoc context builder is configured with a list of URL's of Java API documentation to use in class to URL resolution.

### Token specification

As any interpolation token the Javadoc token consists of a key and an optional default value ``${{{<key>[|<default value>]}}}``.
They key has the following structure: ``[<prefix>]<fully qualified name>[ <alternative text>]``, where:

* prefix - context mount prefix, e.g. ``javadoc/``
* Fully qualified name - [FQN](https://en.wikipedia.org/wiki/Fully_qualified_name) of a class or member:
    * For packages - fully qualified package name.
    * For classes - fully qualified name with dot separator for top-level classes and ``$`` separator for nested classes.
    * For fields - fully qualified class name, ``#``, field name.
    * For methods - fully qualified class name, ``#``, method name, ``(``, list of fully qualified names of the formal parameters comma separated, ``)``.
* Alternative text - any text after a space will be used as a link text. If not specified, then fully qualified name is used as text with ``$`` and ``#`` replaced by ``.`` (dot).

In the case of Javadoc context builder the default value is never used because the Javadoc context builder returns a plain text for FQN or alternative text if it can't resolve an FQN to a link.          
 
### Configuration

The context builder is configured with a list of URL's. The URL's are interpolated and then resolved against the context URI.

Example:

```yaml
mounts:
    javadoc/:
        id: org.nasdanika.vinci.cli/javadoc-context-builder
        config:
            # Third-party
            - https://docs.oracle.com/javase/8/docs/api/
            - https://download.eclipse.org/modeling/emf/emf/javadoc/2.9.0/
            - https://picocli.info/apidocs/

            # Core
            - ../core/bundles/org.nasdanika.cli/apidocs/
            - https://nasdanika.org/builds/${release}/products/core/bundles/org.nasdanika.common/apidocs/
```


---
